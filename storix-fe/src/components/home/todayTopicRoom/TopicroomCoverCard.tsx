// src/components/home/todayTopicroom/TopicRoomCoverCard.tsx
'use client'

import Image from 'next/image'
import Link from 'next/link'

/** 토픽룸 카드에 들어갈 데이터 타입 */
export interface TopicRoomData {
  id: string
  imageUrl: string
  title: string
  subtitle: string
  memberCount: number
}

interface TopicRoomCoverCardProps {
  room: TopicRoomData
}

export const TopicRoomCoverCard = ({ room }: TopicRoomCoverCardProps) => {
  return (
    <div className="relative h-full w-[266px] flex-shrink-0 overflow-hidden rounded-2xl bg-gray-100">
      {/* 배경 이미지 */}
      <Image
        src={room.imageUrl}
        alt={room.title}
        fill
        className="object-cover"
      />
      <div className="pointer-events-none absolute inset-0 bg-[linear-gradient(0deg,rgba(0,0,0,0.30)_0%,rgba(0,0,0,0.30)_100%)]" />
      {/* 텍스트 영역 */}
      <div className="pointer-events-none absolute inset-x-0 bottom-0 p-3 pb-4 ">
        {/* HOT / 인원 뱃지 */}
        <div className="mb-2 flex items-center gap-1.5">
          <span className="inline-flex items-center rounded-full bg-pink-500 px-2 py-0.5 caption-2 text-white">
            <FireIcon />
            HOT
          </span>
          <span className="inline-flex items-center gap-1 rounded-full bg-white/90 px-2 py-0.5 caption-2 text-gray-900">
            <UserIcon />
            {room.memberCount}
          </span>
        </div>

        {/* 제목 / 부제목 */}
        <div className="space-y-0.5 text-white text-left">
          <p className="heading-2 ">{room.subtitle}</p>
          <p className="body-1 ">{room.title}</p>
        </div>
      </div>

      {/* 입장 버튼 */}
      <Link
        href="/home/topicroom"
        className="
          absolute bottom-3 right-3
          flex h-10 w-10 items-center justify-center
          rounded-full bg-pink-500 text-white shadow-lg
        "
      >
        <EnterRoomIcon />
      </Link>
    </div>
  )
}

/* ===== 아이콘들 ===== */

const UserIcon = () => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="9"
    height="10"
    viewBox="0 0 9 10"
    fill="none"
  >
    <path
      d="M4.25391 5.33008C4.83783 5.33008 5.41327 5.39802 5.97949 5.53516C6.40408 5.638 6.82357 5.77998 7.23828 5.95996L7.65137 6.15234C7.9063 6.28421 8.11072 6.47588 8.26465 6.72656C8.41843 6.97709 8.49512 7.25181 8.49512 7.55078C8.49506 8.36611 7.8339 9.02734 7.01855 9.02734H1.48926C0.673915 9.02734 0.0127479 8.36611 0.0126953 7.55078C0.0126953 7.25181 0.0893787 6.97709 0.243164 6.72656C0.358612 6.53855 0.502558 6.38384 0.674805 6.2627L0.856445 6.15234C1.40495 5.87811 1.96226 5.67227 2.52832 5.53516C3.09454 5.39802 3.66998 5.33008 4.25391 5.33008ZM5.58301 0.0126953C5.80129 0.0126953 5.98693 0.0884914 6.13965 0.241211C6.29237 0.39393 6.36816 0.579572 6.36816 0.797852V2.65918C6.36805 3.24054 6.16116 3.73826 5.74707 4.15234C5.33292 4.56638 4.83536 4.77344 4.25391 4.77344C3.67245 4.77344 3.1749 4.56638 2.76074 4.15234C2.34666 3.73826 2.13976 3.24054 2.13965 2.65918V0.797852C2.13965 0.579571 2.21544 0.39393 2.36816 0.241211C2.52088 0.0884916 2.70652 0.0126953 2.9248 0.0126953C3.05562 0.0127333 3.18004 0.0434028 3.29785 0.104492C3.38033 0.147185 3.48492 0.167919 3.58887 0.167969C3.69301 0.167969 3.79825 0.147302 3.88086 0.104492C3.99875 0.0433647 4.123 0.0126953 4.25391 0.0126953C4.38481 0.0126954 4.50906 0.0433648 4.62695 0.104492C4.70956 0.147302 4.8148 0.167969 4.91895 0.167969C5.02289 0.167919 5.12748 0.147185 5.20996 0.104492C5.32778 0.0434026 5.45219 0.0127331 5.58301 0.0126953Z"
      fill="#FF4093"
      stroke="#FF4093"
      strokeWidth="0.025"
    />
  </svg>
)

const EnterRoomIcon = () => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
  >
    <path
      d="M17.5039 21C18.0539 21 18.5247 20.8042 18.9164 20.4125C19.3081 20.0208 19.5039 19.55 19.5039 19V5C19.5039 4.45 19.3081 3.97917 18.9164 3.5875C18.5247 3.19583 18.0539 3 17.5039 3H11.5039C11.2206 3 10.9831 3.09583 10.7914 3.2875C10.5997 3.47917 10.5039 3.71667 10.5039 4C10.5039 4.28333 10.5997 4.52083 10.7914 4.7125C10.9831 4.90417 11.2206 5 11.5039 5H17.5039V19H11.5039C11.2206 19 10.9831 19.0958 10.7914 19.2875C10.5997 19.4792 10.5039 19.7167 10.5039 20C10.5039 20.2833 10.5997 20.5208 10.7914 20.7125C10.9831 20.9042 11.2206 21 11.5039 21H17.5039Z"
      fill="white"
    />
    <path
      d="M2.90234 13.0005H10.0773L8.22734 14.8505C8.04401 15.0338 7.94818 15.263 7.93984 15.538C7.93151 15.813 8.01901 16.0505 8.20234 16.2505C8.40234 16.4505 8.63984 16.5547 8.91484 16.563C9.18984 16.5713 9.42734 16.4755 9.62734 16.2755L13.2023 12.7005C13.4023 12.5005 13.5023 12.2672 13.5023 12.0005C13.5023 11.7338 13.4023 11.5005 13.2023 11.3005L9.62734 7.7255C9.42734 7.5255 9.18568 7.42967 8.90234 7.438C8.61901 7.44633 8.38568 7.5505 8.20234 7.7505C8.01901 7.9505 7.92734 8.18383 7.92734 8.4505C7.92734 8.71717 8.01901 8.94217 8.20234 9.1255L10.0773 11.0005H2.90234C2.61901 11.0005 2.38151 11.0963 2.18984 11.288C1.99818 11.4797 1.90234 11.7172 1.90234 12.0005C1.90234 12.2838 1.99818 12.5213 2.18984 12.713C2.38151 12.9047 2.61901 13.0005 2.90234 13.0005Z"
      fill="white"
    />
  </svg>
)

const FireIcon = () => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="12"
    height="12"
    viewBox="0 0 12 12"
    fill="none"
  >
    <path
      d="M2 7C2 6.125 2.20833 5.34583 2.625 4.6625C3.04167 3.97917 3.5 3.40417 4 2.9375C4.5 2.47083 4.95833 2.11458 5.375 1.86875L6 1.5V3.15C6 3.45833 6.10417 3.70208 6.3125 3.88125C6.52083 4.06042 6.75417 4.15 7.0125 4.15C7.15417 4.15 7.28958 4.12083 7.41875 4.0625C7.54792 4.00417 7.66667 3.90833 7.775 3.775L8 3.5C8.6 3.85 9.08333 4.33542 9.45 4.95625C9.81667 5.57708 10 6.25833 10 7C10 7.73333 9.82083 8.40208 9.4625 9.00625C9.10417 9.61042 8.63333 10.0875 8.05 10.4375C8.19167 10.2375 8.30208 10.0188 8.38125 9.78125C8.46042 9.54375 8.5 9.29167 8.5 9.025C8.5 8.69167 8.4375 8.37708 8.3125 8.08125C8.1875 7.78542 8.00833 7.52083 7.775 7.2875L6 5.55L4.2375 7.2875C3.99583 7.52917 3.8125 7.79583 3.6875 8.0875C3.5625 8.37917 3.5 8.69167 3.5 9.025C3.5 9.29167 3.53958 9.54375 3.61875 9.78125C3.69792 10.0188 3.80833 10.2375 3.95 10.4375C3.36667 10.0875 2.89583 9.61042 2.5375 9.00625C2.17917 8.40208 2 7.73333 2 7ZM6 6.95L7.0625 7.9875C7.20417 8.12917 7.3125 8.2875 7.3875 8.4625C7.4625 8.6375 7.5 8.825 7.5 9.025C7.5 9.43333 7.35417 9.78125 7.0625 10.0688C6.77083 10.3563 6.41667 10.5 6 10.5C5.58333 10.5 5.22917 10.3563 4.9375 10.0688C4.64583 9.78125 4.5 9.43333 4.5 9.025C4.5 8.83333 4.5375 8.64792 4.6125 8.46875C4.6875 8.28958 4.79583 8.12917 4.9375 7.9875L6 6.95Z"
      fill="white"
    />
  </svg>
)
